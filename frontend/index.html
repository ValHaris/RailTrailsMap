<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta property="og:title" content="Discover Rail Trails for Cycling" />
    <meta property="og:description" content="Explore abandoned railway lines turned into cycling trails on this interactive map" />
    <meta property="og:image" content="https://www.railtrailsmap.net/preview2.jpg" />
    <meta property="og:url" content="https://www.railtrailsmap.net" />
    <meta property="og:type" content="website" />    
    <title>Rail Trails</title>
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" sizes="any" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>
  <body>
    <div id="sidebar">
      <h1>RailTrails for cycling</h1>
      This is a visualization of cycleways on abandoned railway lines.

      <h2>Legend</h2>
      <dl>
        <dt>
          <svg width="80" height="32">
            <line x1="0" y1="16" x2="100%" y2="16" stroke="rgba(60, 199, 187, 0.6)" stroke-width="6" />
          </svg>
        </dt>
        <dd>A railtrail</dd>
        <dt>
          <svg width="80" height="32">
            <line x1="0" y1="16" x2="100%" y2="16" stroke="rgba(103, 113, 199, 0.6)" stroke-width="6" />
          </svg>
        </dt>
        <dd title="Tracks with a tracktype of grade3 or worse, making them less suitable for road bikes.">A railtrail with rougher surface</dd>
        <dt>
          <svg width="80" height="32">
            <line x1="0" y1="16" x2="100%" y2="16" stroke="rgba(112, 150, 146, 0.4)" stroke-width="6" />
          </svg>
        </dt>
        <dd title="There are no tags relating to railways on these ways">A section of a railtrail route that seems to deviate from the original railway line</dd>
      </dl>
      <h2>News</h2>
      <ul>
        <li>2025-06-02: Disabled user-scalability to avoid scale drift on mobile devices</li>
      </ul>
      <h2>Updates</h2>
      <p>
      The map is <i>not</i> rendered from live data.
      It is planned to be updated occasionally, but no guarantees are made. 
      </p><p>
      Showing data as of: 
      <span class="date">2025-09-29</span>
      </p>

      <h2>Criteria</h2>
      A way is considered a rail trail when:
      <ul>
        <li><tt>railtrail=yes</tt></li>
        <li>or it is part of a relation with <tt>railtrail=yes</tt> and <tt>route=bicycle</tt></li>
        <li>or <tt>cycleway:type=railtrail</tt></li>
        <li>or 
          <ul>
            <li><tt>railway=abandoned</tt></li>
            <li>and one or more of
              <ul>
                <li><tt>highway=cycleway</tt></li>
                <li><tt>highway=path and bicycle=designated</tt></li>
                <li><tt>highway=track and (bicycle=yes or tracktype in(grade1, grade2))</tt></li>
                <li>on a relation with <tt>route=bicyle</tt></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      The detailed criteria can be found in the 
      <a href="https://github.com/ValHaris/RailTrailsMap/blob/a0cd951928626f75f2c08a511056c6b3078af14c/docker/style/openstreetmap-carto.lua#L321">import filters</a> and 
      <a href="https://github.com/ValHaris/RailTrailsMap/blob/a0cd951928626f75f2c08a511056c6b3078af14c/docker/style/project.mml#L46">rendering query</a>

      <h2>Source Code</h2>
      Available on <a href="https://github.com/ValHaris/RailTrailsMap">GitHub</a>
      
    </div>
    <div id="map"></div>
    <script type="module" src="./main.js"></script>
  </body>
</html>
